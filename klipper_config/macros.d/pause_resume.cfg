
[gcode_macro PAUSE]
rename_existing: BASE_PAUSE
default_parameter_X: 150    # edit to your preferred park position
default_parameter_Y: 305    # edit to your preferred park position
default_parameter_Z: 10     # edit to your preferred lift height
default_parameter_E: 2      # edit to your preferred retract length
gcode:
    SAVE_GCODE_STATE NAME=PAUSE_state
    BASE_PAUSE
    G91
    G1 E-{E} F2100
    G1 Z{Z}
    G90
    G1 X{X} Y{Y} F6000

[gcode_macro RESUME]
rename_existing: BASE_RESUME
default_parameter_E: 2      # edit to your preferred retract length
gcode:
    G91
    G1 E{E} F2100
    G90
    RESTORE_GCODE_STATE NAME=PAUSE_state MOVE=1
    BASE_RESUME

[gcode_macro M601]
gcode:
  SAVE_GCODE_STATE NAME=M601_state
  PAUSE
  
  RESTORE_GCODE_STATE NAME=M601_state

